<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Previsão do tempo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link href="fontawesome-free-5.15.2-web/css/all.css" rel="stylesheet">
    <link href="css/estyle.css">
</head>
<body>
    <div class=" pagina container" id="app">
        
        <div class="col-12 mt-2">
            <div class="col-12 border-bottom mb-3 d-flex justify-content-center align-items-center">
                <h2>{{name}}</h2>
            </div> 
                
            <div class="container col-6 d-block">
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="cidade">
                    <button class="input-group-text"><i class="fas fa-search-location"></i></button>
                  </div>

                <div class="container col border d-block mb-4">
                    <p>São Jose dos Campos</p>
                    <p>Temperatura</p>
                    <p>Umidade</p>
                    <p>Vento</p>
                    <div class="row d-flex justify-content-center">
                        <button class="d-block col-6 btn btn-success mb-2 center-block">Salvar</button>
                    </div>
                </div>

                <!--Cidades salvas-->
                <div class="container col-12 border d-block mb-5">
                    
                    <div class="row mb-1">
                        <p class="d-inline col-10">Cidade 1</p>
                        <button class="d-inline btn btn-danger col-2 align-items-center"><i class="far fa-times-circle"></i></button>
                    </div>

                    <div class="row mb-1">
                        <p class="d-inline col-10">Cidade 1</p>
                        <button class="d-inline btn btn-danger col-2 align-items-center"><i class="far fa-times-circle"></i></button>
                    </div>

                    <div class="row mb-1">
                        <p class="d-inline col-10">Cidade 1</p>
                        <button class="d-inline btn btn-danger col-2 align-items-center"><i class="far fa-times-circle"></i></button>
                    </div>

                    <div class="row mb-1">
                        <p class="d-inline col-10">Cidade 1</p>
                        <button class="d-inline btn btn-danger col-2 align-items-center"><i class="far fa-times-circle"></i></button>
                    </div>

                    <div class="row mb-1">
                        <p class="d-inline col-10">Cidade 1</p>
                        <button class="d-inline btn btn-danger col-2 align-items-center"><i class="far fa-times-circle"></i></button>
                    </div>
                    
                    <div class="row mb-1">
                       
                        <button class="container btn btn-warning align-items-center mb-2">Comparar</button>
                    </div>
                    
                </div>

                <!---Abaixo a Comparação das cidades-->
            </div>
                

              
                
                       
        </div>
    </div>
    <!--Arquivos do Botstrap-->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <!-- development version, includes helpful console warnings -->
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script>
    let app = new Vue({
        el:"#app",
        data: {
            name: 'Previsão do tempo App',
            contact: {
                id: '',
                name: '',
                email: '',
                phone: ''
            },
            isEdit: false,
        },
        created() {
            this.contacts = JSON.parse(localStorage.getItem('contactsApp'));
        },
        methods:{
            saveContact(contact){
                let contacts = localStorage.getItem('contactsApp');

                contact.id = new Date().getTime();

                if(contacts) {
                    //atualizar meus contatos no local storage
                    contacts = JSON.parse(contacts);
                    contacts.push(contact);
                } else {
                    //eu crio esta chave contatos
                    contacts = [contact];
                }

                this.contacts = contacts;
                //atualizar local storage independente de novo contato ou nova adição
                localStorage.setItem('contactsApp', JSON.stringify(contacts));//criar arquivo json no,local storage
                location.reload();
            },
            removeContact(contactId) {
                let contacts = localStorage.getItem('contactsApp');

                if(!contacts) return;

                contacts = JSON.parse(contacts);

                contacts = contacts.filter((contact)=>{
                    return contact.id != contactId;
                });
                this.contacts = contacts;
                localStorage.setItem('contactsApp', JSON.stringify(contacts));
                location.reload();
            },
            editContact(contact){
                this.contact = contact;
                this.isEdit = true;
                
            },
            updateContact(contact) {
                let contacts = this.contacts.map(contactMap => {
                    if(contactMap.id == contact.id){
                        return contact;
                    }
                    return contactMap;
                });
                this.contacts = contacts;
                this.isEdit = false;
                localStorage.setItem('contactsApp', JSON.stringify(contacts));
                location.reload();

            }
        }    
    });
</script>
</body>
</html>